{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Admin/Desktop/Project/LoginExperiment/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/admin.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../adminpage/adminpage.component\";\nimport * as i6 from \"../../footer/footer.component\";\n\nfunction EmployeeListComponent_tr_28_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\", 17);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"/\");\n    i0.ɵɵelementStart(5, \"span\", 17);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r5.rideId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Ride Number:\", item_r5.rideId, \" Occupancy:\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r5.seats);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r5.totalSeats);\n  }\n}\n\nfunction EmployeeListComponent_tr_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"select\", 13, 14);\n    i0.ɵɵlistener(\"ngModelChange\", function EmployeeListComponent_tr_28_Template_select_ngModelChange_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const item_r2 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r2.Assigned_ride_no = $event);\n    })(\"change\", function EmployeeListComponent_tr_28_Template_select_change_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const item_r2 = restoredCtx.$implicit;\n\n      const _r3 = i0.ɵɵreference(13);\n\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.myFunctionPickUp(_r3.value, item_r2.puid));\n    });\n    i0.ɵɵtemplate(14, EmployeeListComponent_tr_28_option_14_Template, 7, 4, \"option\", 15);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.puid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.landMark);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.Assigned_ride_no);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", item_r2.Assigned_ride_no);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.PickUpridesAvailableList);\n  }\n}\n\nfunction EmployeeListComponent_tr_51_option_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"span\", 17);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"/\");\n    i0.ɵɵelementStart(5, \"span\", 17);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r12 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", item_r12.rideId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Ride Number:\", item_r12.rideId, \" Occupancy:\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r12.seats);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r12.totalSeats);\n  }\n}\n\nfunction EmployeeListComponent_tr_51_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"select\", 13, 14);\n    i0.ɵɵlistener(\"ngModelChange\", function EmployeeListComponent_tr_51_Template_select_ngModelChange_12_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r9 = restoredCtx.$implicit;\n      return i0.ɵɵresetView(item_r9.Assigned_ride_no = $event);\n    })(\"change\", function EmployeeListComponent_tr_51_Template_select_change_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r14);\n      const item_r9 = restoredCtx.$implicit;\n\n      const _r10 = i0.ɵɵreference(13);\n\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.myFunctionDrop(_r10.value, item_r9.puid));\n    });\n    i0.ɵɵtemplate(14, EmployeeListComponent_tr_51_option_14_Template, 7, 4, \"option\", 15);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r9 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.puid);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.phoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.landMark);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r9.Assigned_ride_no);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", item_r9.Assigned_ride_no);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.DropridesAvailableList);\n  }\n}\n\nexport class EmployeeListComponent {\n  constructor(adminService, route) {\n    this.adminService = adminService;\n    this.route = route;\n    this.selectedValue = '';\n    this.radiovalue = ''; // ridesAvailableList=[\"cab1\",\"cab2\",\"cab3\"];\n\n    this.PickUpridesAvailableList = [];\n    this.DropridesAvailableList = [];\n    this.employeePickUpList = [];\n    this.employeeDropList = [];\n  }\n\n  ngOnInit() {\n    //This code subscribes to service defined in /service/admin ---Used to populate the table with the list of employees that opt for cab service\n    this.adminService.getEmployeePickUpDetails().subscribe(data => {\n      this.employeePickUpList = data;\n      console.log(this.employeePickUpList);\n    }); //Sends the value selected in the drop down to the API\n\n    this.adminService.getEmployeeDropDetails().subscribe(data => {\n      this.employeeDropList = data;\n      console.log(this.employeeDropList);\n    }); //used to repopulate the dropdown by calling the API again\n\n    this.adminService.getAvailablePickUpRides().subscribe(data => {\n      this.PickUpridesAvailableList = data;\n      console.log(data);\n      console.log(this.PickUpridesAvailableList);\n    });\n    this.adminService.getAvailableDropRides().subscribe(data => {\n      this.DropridesAvailableList = data;\n      console.log(data);\n      console.log(this.DropridesAvailableList);\n    });\n  }\n\n  myFunctionPickUp(selectValue, puid) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let pickUpObj = {\n        RideId: selectValue,\n        Empid: puid\n      };\n      /*this.adminService.updateCabList(selectValue).subscribe(\r\n      data => {\r\n        console.log(data);\r\n          }\r\n      );*/\n\n      yield _this.adminService.updatePickUpTable(pickUpObj).subscribe(data => {});\n\n      _this.adminService.getAvailablePickUpRides().subscribe(data => {\n        _this.PickUpridesAvailableList = data;\n        console.log(data);\n        console.log(_this.PickUpridesAvailableList);\n      });\n\n      _this.adminService.getAvailablePickUpRides().subscribe(data => {\n        _this.PickUpridesAvailableList = data;\n        console.log(data);\n        console.log(_this.PickUpridesAvailableList);\n      });\n    })();\n  }\n\n  myFunctionDrop(selectValue, puid) {\n    let dropObj = {\n      RideId: selectValue,\n      Empid: puid\n    };\n    this.adminService.updateDropTable(dropObj).subscribe(data => {});\n    this.adminService.getAvailableDropRides().subscribe(data => {\n      this.DropridesAvailableList = data;\n      console.log(data);\n      console.log(this.DropridesAvailableList);\n    });\n    setTimeout(this.adminService.getAvailableDropRides, 4000);\n    this.adminService.getAvailableDropRides().subscribe(data => {\n      this.DropridesAvailableList = data;\n      console.log(data);\n      console.log(this.DropridesAvailableList);\n    });\n  }\n\n  onSubmitPickupRides() {\n    console.log(this.employeePickUpList);\n    alert('DATA SUBMITTED');\n  }\n\n  onSubmitDropRides() {\n    console.log(this.employeeDropList);\n    alert('DATA SUBMITTED');\n  }\n\n}\n\nEmployeeListComponent.ɵfac = function EmployeeListComponent_Factory(t) {\n  return new (t || EmployeeListComponent)(i0.ɵɵdirectiveInject(i1.AdminService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nEmployeeListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EmployeeListComponent,\n  selectors: [[\"app-employee-list\"]],\n  decls: 56,\n  vars: 2,\n  consts: [[1, \"navbar\", \"navbar-light\", \"bg-dark\", \"p-2\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"src\", \"https://www.yorkemc.com/wp-content/uploads/eurofins_TINTS_WHITE.png\", \"alt\", \"\", 2, \"height\", \"40px\"], [\"type\", \"submit\", 1, \"btn\", \"btn-outline-light\", \"my-2\", \"my-sm-0\", \"p-2\"], [1, \"container\", \"mt-2\"], [1, \"card\", \"shadow\", \"border-dark\", \"mt-5\", 2, \"min-width\", \"39rem\"], [1, \"card-body\"], [1, \"card-title\", \"text-center\"], [1, \"table\"], [1, \"thead-dark\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [3, \"ngModel\", \"ngModelChange\", \"change\"], [\"cabs\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [2, \"color\", \"grey\"]],\n  template: function EmployeeListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\");\n      i0.ɵɵelement(1, \"app-adminpage\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"nav\", 0)(3, \"a\", 1);\n      i0.ɵɵelement(4, \"img\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 3);\n      i0.ɵɵtext(6, \"LOGOUT\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"div\", 6)(10, \"h5\", 7);\n      i0.ɵɵtext(11, \"EMPLOYEE LIST (PICKUP)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"table\", 8)(13, \"thead\", 9)(14, \"tr\")(15, \"th\", 10);\n      i0.ɵɵtext(16, \"PUID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\", 10);\n      i0.ɵɵtext(18, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\", 10);\n      i0.ɵɵtext(20, \"Phone Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\", 10);\n      i0.ɵɵtext(22, \"Landmark\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\", 10);\n      i0.ɵɵtext(24, \"Assigned_ride\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"th\", 10);\n      i0.ɵɵtext(26, \"Select Ride\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(27, \"tbody\");\n      i0.ɵɵtemplate(28, EmployeeListComponent_tr_28_Template, 15, 7, \"tr\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(29, \"a\", 12);\n      i0.ɵɵlistener(\"click\", function EmployeeListComponent_Template_a_click_29_listener() {\n        return ctx.onSubmitPickupRides();\n      });\n      i0.ɵɵtext(30, \"Submit\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(31, \"div\", 5)(32, \"div\", 6)(33, \"h5\", 7);\n      i0.ɵɵtext(34, \"EMPLOYEE LIST (DROP)\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(35, \"table\", 8)(36, \"thead\", 9)(37, \"tr\")(38, \"th\", 10);\n      i0.ɵɵtext(39, \"PUID\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"th\", 10);\n      i0.ɵɵtext(41, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"th\", 10);\n      i0.ɵɵtext(43, \"Phone Number\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(44, \"th\", 10);\n      i0.ɵɵtext(45, \"Landmark\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"th\", 10);\n      i0.ɵɵtext(47, \"Assigned_ride\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"th\", 10);\n      i0.ɵɵtext(49, \"Select Ride\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(50, \"tbody\");\n      i0.ɵɵtemplate(51, EmployeeListComponent_tr_51_Template, 15, 7, \"tr\", 11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(52, \"a\", 12);\n      i0.ɵɵlistener(\"click\", function EmployeeListComponent_Template_a_click_52_listener() {\n        return ctx.onSubmitDropRides();\n      });\n      i0.ɵɵtext(53, \"Submit\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(54, \"div\");\n      i0.ɵɵelement(55, \"app-footer\");\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(28);\n      i0.ɵɵproperty(\"ngForOf\", ctx.employeePickUpList);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", ctx.employeeDropList);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i5.AdminpageComponent, i6.FooterComponent],\n  styles: [\"body[_ngcontent-%COMP%]{\\r\\n    align-items: center;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVtcGxveWVlLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG1CQUFtQjtBQUN2QiIsImZpbGUiOiJlbXBsb3llZS1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5e1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EmployeeListComponent","constructor","adminService","route","ngOnInit","getEmployeePickUpDetails","subscribe","data","employeePickUpList","console","log","getEmployeeDropDetails","employeeDropList","getAvailablePickUpRides","PickUpridesAvailableList","getAvailableDropRides","DropridesAvailableList","myFunctionPickUp","selectValue","puid","pickUpObj","RideId","Empid","updatePickUpTable","myFunctionDrop","dropObj","updateDropTable","setTimeout","onSubmitPickupRides","alert","onSubmitDropRides","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Desktop\\Project\\LoginExperiment\\src\\app\\components\\employee-list\\employee-list.component.html","C:\\Users\\Admin\\Desktop\\Project\\LoginExperiment\\src\\app\\components\\employee-list\\employee-list.component.ts"],"sourcesContent":["<div>\n  <app-adminpage></app-adminpage>\n</div>\n<nav class=\"navbar navbar-light bg-dark p-2\">\n  <a class=\"navbar-brand\" href=\"#\">\n    <img src=\"https://www.yorkemc.com/wp-content/uploads/eurofins_TINTS_WHITE.png\" alt=\"\" style=\"height:40px ;\">\n\n  </a>\n  <button class=\"btn btn-outline-light my-2 my-sm-0 p-2\" type=\"submit\">LOGOUT</button>\n</nav>\n<div class=\"container mt-2\">\n  <div class=\"card shadow border-dark mt-5\" style=\"min-width: 39rem;\">\n    <div class=\"card-body\">\n      <h5 class=\"card-title text-center\">EMPLOYEE LIST (PICKUP)</h5>\n\n      <table class=\"table\">\n        <thead class=\"thead-dark\">\n          <tr>\n            <th scope=\"col\">PUID</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\">Phone Number</th>\n            <th scope=\"col\">Landmark</th>\n            <th scope=\"col\">Assigned_ride</th>\n            <th scope=\"col\">Select Ride</th>\n          </tr>\n        </thead>\n        <tbody>\n\n          <!-- First Row (Has to be put in ngFor Loop and generated for each employee) -->\n\n          <tr *ngFor=\"let item of employeePickUpList\">\n            <td>{{item.puid}}</td>\n            <td>{{item.email}}</td>\n            <td>{{item.phoneNumber}}</td>\n            <td>{{item.landMark}}</td>\n            <td>{{item.Assigned_ride_no}}</td>\n            <!-- Cab Numbers as options( to be populated using API) -->\n            <td> <select   [(ngModel)] =\"item.Assigned_ride_no\" #cabs (change)=\"myFunctionPickUp(cabs.value, item.puid)\">\n                <option *ngFor=\"let item of PickUpridesAvailableList\" value=\"{{item.rideId}}\" > Ride Number:{{item.rideId}}  Occupancy:<span style=\"color: grey;\">{{item.seats}}</span>/<span style=\"color: grey;\">{{item.totalSeats}}</span></option> \n\n              </select></td>\n          </tr>\n\n\n        </tbody>\n      </table>\n      <a (click)=\"onSubmitPickupRides()\" class=\"btn btn-success\">Submit</a>\n    </div>\n  </div>\n\n  <div class=\"card shadow border-dark mt-5\" style=\"min-width: 39rem;\">\n    <div class=\"card-body\">\n      <h5 class=\"card-title text-center\">EMPLOYEE LIST (DROP)</h5>\n\n      <table class=\"table\">\n        <thead class=\"thead-dark\">\n          <tr>\n            <th scope=\"col\">PUID</th>\n            <th scope=\"col\">Email</th>\n            <th scope=\"col\">Phone Number</th>\n            <th scope=\"col\">Landmark</th>\n            <th scope=\"col\">Assigned_ride</th>\n            <th scope=\"col\">Select Ride</th>\n            \n          </tr>\n        </thead>\n        <tbody>\n\n          <!-- First Row (Has to be put in ngFor Loop and generated for each employee) -->\n          <tr *ngFor=\"let item of employeeDropList\">\n            <td>{{item.puid}}</td>\n            <td>{{item.email}}</td>\n            <td>{{item.phoneNumber}}</td>\n            <td>{{item.landMark}}</td>\n            <td>{{item.Assigned_ride_no}}</td>\n            <!-- Cab Numbers as options( to be populated using API) -->\n            <td> <select [(ngModel)] =\"item.Assigned_ride_no\" #cabs (change)=\"myFunctionDrop(cabs.value,item.puid)\" >\n                <option *ngFor=\"let item of DropridesAvailableList\"  value=\"{{item.rideId}}\"> Ride Number:{{item.rideId}}  Occupancy:<span style=\"color: grey;\">{{item.seats}}</span>/<span style=\"color: grey;\">{{item.totalSeats}}</span></option> \n                \n              </select></td>\n          </tr>\n\n\n        </tbody>\n      </table>\n      <a (click)=\"onSubmitDropRides()\" class=\"btn btn-success\">Submit</a>\n    </div>\n  </div>\n</div>\n\n<div>\n  <app-footer></app-footer>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AvailableRides } from 'src/app/models/available-rides';\nimport { Employee } from 'src/app/models/employee';\nimport { AdminService } from 'src/app/service/admin.service';\n\n@Component({\n  selector: 'app-employee-list',\n  templateUrl: './employee-list.component.html',\n  styleUrls: ['./employee-list.component.css'],\n})\nexport class EmployeeListComponent implements OnInit {\n  selectedValue: string = '';\n  radiovalue: string = '';\n  // ridesAvailableList=[\"cab1\",\"cab2\",\"cab3\"];\n  PickUpridesAvailableList: AvailableRides[] = [];\n  DropridesAvailableList: AvailableRides[] = [];\n  employeePickUpList: Employee[] = [];\n  employeeDropList: Employee[] = [];\n  constructor(private adminService: AdminService, private route: Router) {}\n\n  ngOnInit(): void {\n    //This code subscribes to service defined in /service/admin ---Used to populate the table with the list of employees that opt for cab service\n    this.adminService.getEmployeePickUpDetails().subscribe((data) => {\n      this.employeePickUpList = data;\n\n      console.log(this.employeePickUpList);\n    });\n    //Sends the value selected in the drop down to the API\n    this.adminService.getEmployeeDropDetails().subscribe((data) => {\n      this.employeeDropList = data;\n\n      console.log(this.employeeDropList);\n    });\n\n    //used to repopulate the dropdown by calling the API again\n    this.adminService.getAvailablePickUpRides().subscribe((data) => {\n      this.PickUpridesAvailableList = data;\n      console.log(data);\n      console.log(this.PickUpridesAvailableList);\n    });\n    this.adminService.getAvailableDropRides().subscribe((data) => {\n      this.DropridesAvailableList = data;\n      console.log(data);\n      console.log(this.DropridesAvailableList);\n    });\n  }\n\n  async myFunctionPickUp(selectValue: string, puid: string) {\n   \n\n    let pickUpObj = {\n      RideId: selectValue,\n      Empid: puid,\n    };\n\n    /*this.adminService.updateCabList(selectValue).subscribe(\n    data => {\n      console.log(data);\n        }\n  );*/\n\n    await this.adminService.updatePickUpTable(pickUpObj).subscribe((data) => {});\n\n   this.adminService.getAvailablePickUpRides().subscribe((data) => {\n      this.PickUpridesAvailableList = data;\n      console.log(data);\n      console.log(this.PickUpridesAvailableList);\n    });\n    \n    this.adminService.getAvailablePickUpRides().subscribe((data) => {\n      this.PickUpridesAvailableList = data;\n      console.log(data);\n      console.log(this.PickUpridesAvailableList);\n    });\n  }\n\n  myFunctionDrop(selectValue: string, puid: string) {\n    let dropObj = {\n      RideId: selectValue,\n      Empid: puid,\n    };\n   \n\n    this.adminService.updateDropTable(dropObj).subscribe((data) => {});\n\n    this.adminService.getAvailableDropRides().subscribe((data) => {\n      this.DropridesAvailableList = data;\n      console.log(data);\n      console.log(this.DropridesAvailableList);\n    });\n    setTimeout(this.adminService.getAvailableDropRides,4000);\n    this.adminService.getAvailableDropRides().subscribe((data) => {\n      this.DropridesAvailableList = data;\n      console.log(data);\n      console.log(this.DropridesAvailableList);\n    });\n  }\n\n  onSubmitPickupRides() {\n    console.log(this.employeePickUpList);\n    alert('DATA SUBMITTED');\n    \n  }\n\n  onSubmitDropRides() {\n    console.log(this.employeeDropList);\n    alert('DATA SUBMITTED');\n  }\n}\n"]},"metadata":{},"sourceType":"module"}